{% load static %}{% load bootstrap4 %}{% bootstrap_javascript jquery='full' %}
{% block content %}
<div class="modal-dialog" role="document">
    {% if object %}
        {% if object.service.kind.id == 'directory' %}
            <form action="{% url 'office-edit' object.id %}" method="post">
        {% elif object.service.kind.id == 'catalog' %}
            <form action="{% url 'item-edit' object.id %}" enctype="multipart/form-data" method="post">
        {% elif object.service.kind.id == 'map' %}  
            <form action="{% url 'location-edit' object.id %}" method="post">
        {% else %} 
            <form method="post"><h3 class="modal-title">Formulario no implementado!</h3></form>
        {% endif %} 
    {% else %}
        <form action="{% url 'add-element' service.id %}" enctype="multipart/form-data" method="post">
    {% endif %}
            {% csrf_token %}
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                        <span class="sr-only">Close</span>
                    </button>
                    {% block title %}
                        {% if object %}
                        <h3 class="modal-title">Editar elemento "{{ object }}"</h3>
                        {% else %}
                        <h3 class="modal-title">Agregar nuevo elemento a "{{ service }}"</h3>
                        {% endif %}
                    {% endblock %}
                </div>
                <div class="modal-body">
                    {% block form %}
                        {% bootstrap_form form %}
                    {% endblock %}
                </div>
                <div class="modal-footer">
                    <div id="button_save">
                        <button type="submit" class="btn btn-success">
                            <span class="glyphicon glyphicon-save"></span> Guardar
                        </button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">
                            <span class="glyphicon glyphicon-circle-arrow-left"></span> Cerrar
                        </button>
                    </div>
                </div>
            </div><!-- /.modal-content -->
        </form>
</div><!-- /.modal-dialog -->
{% endblock %}